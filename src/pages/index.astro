---
import EmptyLayout from '../layouts/Layout.astro';

import ig from '../media/Instagram_Glyph_Black.svg';
import li from '../media/li.svg';
import dom from '../media/dom.png';

import camo from '../media/camo.jpeg';
import smc from '../media/smc.jpeg';
import grow7 from '../media/Projects/grow/grow7.jpg';
import dd from '../media/dd_1.jpg';
import iac from '../media/iac.gif';
import ind from '../media/in.jpeg';
import gan from '../media/gan.gif';
import ta from '../media/table_anim.gif';
import dr from '../media/droste.gif';
import lf from '../media/lf.png';
import b from '../media/b.jpg';
import t from '../media/table.png';
import dd1 from '../media/dd_1.jpg';
import tablePaper from '../media/table_paper.png';
import grow33 from '../media/grow33.png';
import pictureFrame from '../media/picture frame.png';
import plates from '../media/Plates.png';
import stBack from '../media/st_back.png';

// Import carousel images
import image1 from '../media/table_anim.gif';
import image2 from '../media/droste.gif';
import image3 from '../media/gan.gif';
import image4 from '../media/iac.gif';
---

<EmptyLayout title="Dom">
    <style>
        body {
            background-color: #F4F0EC;
            margin: 0;
            padding: 1rem;
            min-height: 100vh;
        }

        #fixedLink {
            position: fixed;
            bottom: 10px;
            left: 10px;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: 400;
            cursor: pointer;
            border: none;
            font-family: 'IBM Plex Mono';
            text-decoration: underline;
            text-decoration-thickness: 2px;
            text-underline-offset: 3px;
            z-index: 1000;
        }

        #name {
            text-transform: uppercase;
            font-style: normal;
            font-family: 'IBM Plex Mono', sans-serif;
            font-weight: 400;
            font-size: 2.5rem;
        }

        .overlay-text {
            font-family: "EB Garamond", serif;
            font-optical-sizing: auto;
            font-weight: 100;
            font-style: italic;
            font-size: 1.15rem;
            margin: 4rem;
            text-align: left;
            line-height: 1.4;
            max-width: 500px;
            padding: 1rem;
            cursor: pointer;
        }

        .overlay-text p {
            margin: 0;
            padding: 0;
            padding-bottom: 1rem;
            color: black;
        }

        .overlay-text:hover {
            opacity: 0.9;
        }

        .overlay-text p:first-of-type {
            text-decoration: underline;
            text-decoration-thickness: 1px;
            text-underline-offset: 3px;
            transition: text-decoration 0.3s ease;
        }

        .overlay-text.expanded p:first-of-type {
            text-decoration: none;
        }

        .expanded-content {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .expanded-content.visible {
            display: inline;
            opacity: 1;
        }

        .ellipsis {
            display: inline;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .ellipsis.hidden {
            display: none;
            opacity: 0;
        }

        .headline {
            text-align: center;
            font-size: 1rem;
            margin: 77px auto;
            max-width: 600px; 
            color: #272520;
            font-family: "EB Garamond", serif;
            font-optical-sizing: auto;
            font-weight: 400; 
            font-style: italic;
        }

        .footer {
            text-align: center;
            font-size: 0.8rem;
            margin: 30px auto;
            max-width: 600px; 
            color: #272520;
            font-family: "EB Garamond", serif;
            font-optical-sizing: auto;
            font-weight: 400; 
            font-style: italic;
        }

        .social-media {
            padding-bottom: 30px;
        }

        .social-media a {
            margin: 0 10px;
            display: inline-block;
        }

        .social-media img {
            width: 16px;
            height: 16px;
        }

        #work-link .noblur {
            font-family: 'IBM Plex Mono', sans-serif;
            font-style: normal;
            font-weight: 400;
            text-decoration: underline;
            text-decoration-thickness: 3px;
            text-underline-offset: 5px;
            font-size: 1.5rem;
            padding: 10px;
        }

        .noblur {
            color: black;
        }

        a {
            color: inherit!important;
        }

        a:visited {
            color: black!important;
        }

        .instagram-link {
            display: inline-block;
            margin-top: 1rem;
            margin-right: 0.5rem;
        }

        .instagram-link img {
            width: 16px;
            height: 16px;
        }

        .email-link {
            display: inline-block;
            margin-top: 1rem;
            margin-left: 0.5rem;
            font-family: 'EB Garamond', serif;
            font-size: 1.15rem;
            font-weight: 300;
            color: #222;
            text-decoration: underline;
            text-underline-offset: 2px;
            font-style: normal;
        }

        @media (max-width: 768px) {
            .overlay-text {
                font-size: 1.05rem;
                line-height: 1.4;
                padding: 0.5rem;
                margin: 1.5rem;
            }

            .overlay-text p {
                margin: 0;
                padding-bottom: 0.8rem;
            }

            #name {
                font-size: 1.8rem;
            }
        }

        .overlay-text a {
            pointer-events: auto;
        }

        .carousel-container {
            max-width: 800px;
            width: 45%;
            position: fixed;
            top: 50%;
            right: 5%;
            transform: translateY(-50%);
            overflow: hidden;
        }

        .carousel {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .carousel-item {
            min-width: 100%;
            height: 400px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .carousel-item img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .carousel-navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.1rem;
            margin-top: 1rem;
        }

        .carousel-button {
            background: none;
            border: none;
            cursor: pointer;
            color: black;
            font-size: 16px;
            padding: 0.1rem 0.3rem;
            transition: opacity 0.3s ease;
            opacity: 0.2;
        }

        .carousel-button:hover {
            opacity: 1;
        }

        .carousel-dots {
            display: flex;
            justify-content: center;
            /* gap: 8px; */
            margin-top: 1rem;
        }

        .dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .dot.active {
            background: rgba(0, 0, 0, 0.5);
        }

        @media (max-width: 1200px) {
            .carousel-container {
                width: 60%;
                right: 2%;
            }
        }

        @media (max-width: 768px) {
            .carousel-container {
                position: relative;
                width: 100%;
                right: auto;
                top: auto;
                transform: none;
                margin: 2rem auto;
            }
            .carousel-item {
                height: 300px;
            }
        }

        #carousel-index {
            font-family: 'EB Garamond', serif;
            font-size: 0.8rem;
            font-weight: 100;
            color: #222;
        }
    </style>

    <div class="overlay-text" id="expandableText">
        <p>
            Dominic Rishe is<span class="expanded-content"> a designer, engineer, creative technologist, and craftsperson.</span><span class="ellipsis">...</span>
        </p>
        <div class="expanded-content">
            <p>
                His work looks for a synthesis of old and new, digital and physical, technical and meaningful, and covers a wide range of media â€“ from furniture to writing, textiles to software, working with marble to working with DAOs. 
            </p>
            <p>
                Previously he worked as an engineer developing communication systems, mixed reality training applications, and networks for ships, helicopters, and armored vehicles.
            </p>
            <p>
                His work has been exhibited at the <a href="https://publications.risdmuseum.org/grad-show-2024-industrial-design/dominic-rishe" target="_blank">Rhode Island School of Design</a>, in <a href="https://www.garfagnanainnovazione.it/case/dsp-x-2024-pietra-eterna/?lang=en" target="_blank">Garfagnana, Italy</a>, <a href="https://designweekmexico.com/en/programa/inedito/" target="_blank">Mexico City</a>, and <a href="https://nycxdesign.org/event/material-matters-a-show-of-work-by-recent-risd-alumni/" target="_blank">NYC</a>.
            </p>
            <a href="https://www.instagram.com/nouveau_rishe" target="_blank" class="instagram-link">
                <img src={ig.src} alt="Instagram">
            </a>
            <a href="mailto:dominic.rishe@gmail.com" class="email-link">Email</a>
        </div>
    </div>
    <!-- <a href="/work/" id="fixedLink">WORK</a> -->

    <footer class="footer">
        <p></p>
        <div class="social-media">
            <!-- <a href="https://drive.google.com/file/d/1jntKY1r28zIzwDetaXiyVlXfAhZCJf2u/view?usp=share_link" target="_blank">Resume/CV</a> -->
            <!-- <a href="https://www.linkedin.com/in/dominic-rishe-03501381/" target="_blank">
                <img src={li.src} alt="LinkedIn">
            </a> -->
        </div>
    </footer>

    <div class="carousel-container">
        <div class="carousel" id="carousel" style="cursor:pointer;">
            <div class="carousel-item">
                <img src={grow33.src} alt="Grow 33">
            </div>
            <div class="carousel-item">
                <img src={pictureFrame.src} alt="Picture Frame">
            </div>
            <div class="carousel-item">
                <img src={stBack.src} alt="Stool Back">
            </div>
            <div class="carousel-item">
                <img src={tablePaper.src} alt="Table Paper">
            </div>
            <div class="carousel-item">
                <img src={smc.src} alt="SMC">
            </div>
            <div class="carousel-item">
                <img src={camo.src} alt="Camo Shirt">
            </div>
            <div class="carousel-item">
                <img src={b.src} alt="Project B">
            </div>
            <div class="carousel-item">
                <img src={dd1.src} alt="Project DD1">
            </div>
            <div class="carousel-item">
                <img src={plates.src} alt="Plates">
            </div>
        </div>
        <div class="carousel-navigation">
            <span id="carousel-index"></span>
        </div>
    </div>

    <script>
        const expandableText = document.getElementById('expandableText');
        const expandedContent = expandableText.querySelectorAll('.expanded-content');
        const ellipsis = expandableText.querySelector('.ellipsis');

        expandableText.addEventListener('click', (e) => {
            if ((e.target as HTMLElement).tagName === 'A') {
                return;
            }
            expandedContent.forEach(content => {
                content.classList.toggle('visible');
            });
            ellipsis.classList.toggle('hidden');
            expandableText.classList.toggle('expanded');
        });

        const carousel = document.getElementById('carousel');
        const items = carousel?.querySelectorAll('.carousel-item');
        const indexIndicator = document.getElementById('carousel-index');
        let currentIndex = 0;
        const total = items ? items.length : 0;

        function goToSlide(index) {
            if (carousel && items) {
                currentIndex = index;
                carousel.style.transform = `translateX(-${currentIndex * 100}%)`;
                if (indexIndicator) {
                    indexIndicator.textContent = `${currentIndex + 1}/${total}`;
                }
            }
        }

        if (carousel && items) {
            // Set initial index
            goToSlide(0);
            // Make the image area clickable to advance
            carousel.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % total;
                goToSlide(currentIndex);
            });
        }
    </script>
</EmptyLayout>

